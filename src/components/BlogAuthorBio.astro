---
export interface Props {
  author: string;
  compact?: boolean;
}

const { author, compact = false } = Astro.props;

// Author information
const authorInfo = {
  'Rebekka Mädler': {
    name: 'Rebekka Mädler',
    title: 'Expertin für Apothekeneinrichtung',
    image: '/images/team/rebekka-maedler.jpg',
    bio: 'Als Expertin für Apothekeneinrichtung in dritter Generation bei Mädler Einrichtungen bringe ich über 15 Jahre Erfahrung in der Gestaltung funktionaler und ästhetischer Gesundheitsräume mit. Meine Leidenschaft liegt in der individuellen Beratung und der Umsetzung maßgeschneiderter Lösungen für Apotheken und Praxen.',
    expertise: [
      'Apothekenplanung & Design',
      'Praxiseinrichtung',
      'Modernisierung & Renovierung',
      'Betriebsoptimierung'
    ]
  }
};

const info = authorInfo[author] || authorInfo['Rebekka Mädler'];
---

<section class={`${compact ? 'bg-blue-50 p-6' : 'bg-blue-50 p-8'} rounded-lg`}>
  <div class="flex flex-col md:flex-row items-start gap-6">
    <img
      src={info.image}
      alt={info.name}
      class={`${compact ? 'w-16 h-16' : 'w-24 h-24'} rounded-full object-cover flex-shrink-0`}
    />

    <div class="flex-1">
      <div class="mb-3">
        <h3 class={`${compact ? 'text-lg' : 'text-xl'} font-bold text-gray-900 mb-1`}>
          {compact ? 'Autorin' : 'Über die Autorin'}
        </h3>
        <h4 class={`${compact ? 'text-base' : 'text-lg'} text-blue-600 font-medium mb-1`}>
          {info.name}
        </h4>
        <p class="text-gray-600 text-sm font-medium">
          {info.title}
        </p>
      </div>

      <p class={`text-gray-600 mb-4 leading-relaxed ${compact ? 'text-sm' : ''}`}>
        {info.bio}
      </p>

      {!compact && (
        <div class="mb-4">
          <h5 class="text-sm font-semibold text-gray-900 mb-2">Fachbereiche:</h5>
          <div class="flex flex-wrap gap-2">
            {info.expertise.map(skill => (
              <span class="px-3 py-1 bg-white text-blue-600 text-xs font-medium rounded-full border border-blue-200">
                {skill}
              </span>
            ))}
          </div>
        </div>
      )}

      <div class="flex flex-col sm:flex-row gap-3">
        <a
          href="/kontakt"
          class="inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm"
        >
          Persönliche Beratung anfragen
          <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </a>

        <a
          href="/unternehmen"
          class="inline-flex items-center justify-center px-4 py-2 bg-white text-blue-600 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm border border-blue-200"
        >
          Mehr über unser Team
        </a>
      </div>
    </div>
  </div>

  <!-- Company Highlight -->
  {!compact && (
    <div class="mt-6 pt-6 border-t border-blue-200">
      <div class="flex items-center gap-3">
        <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H3m2 0h4M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h1a1 1 0 011 1v5m-4 0h4"></path>
        </svg>
        <div>
          <p class="text-sm font-semibold text-gray-900">Mädler Einrichtungen</p>
          <p class="text-xs text-gray-600">Seit 1881 Experten für Apothekeneinrichtung</p>
        </div>
      </div>
    </div>
  )}
</section>

<!-- Author Structured Data -->
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@type": "Person",
  "name": info.name,
  "jobTitle": info.title,
  "worksFor": {
    "@type": "Organization",
    "name": "Mädler Einrichtungen",
    "foundingDate": "1881",
    "url": "https://www.apothekeneinrichter.de"
  },
  "knowsAbout": info.expertise,
  "url": "https://www.apothekeneinrichter.de/unternehmen"
})} />